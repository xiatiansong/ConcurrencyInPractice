this is Concurrency In Practice's source code
